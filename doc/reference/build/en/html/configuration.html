<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;3.&nbsp;Configuration</title><link rel="stylesheet" href="../shared/css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="Esper - Java Event Stream Processor "><link rel="up" href="index.html" title="Esper - Java Event Stream Processor "><link rel="previous" href="architecture.html" title="Chapter&nbsp;2.&nbsp;Architecture"><link rel="next" href="api.html" title="Chapter&nbsp;4.&nbsp;API Reference"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;3.&nbsp;Configuration</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="architecture.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="api.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="configuration"></a>Chapter&nbsp;3.&nbsp;Configuration</h2></div></div><div></div></div><p>
        Esper engine configuration is entirely optional. Esper has a very small number of configuration parameters that can be used to simplify event 
        pattern and EQL statements, and to tune the engine behavior to specific requirements. The Esper engine works out-of-the-box without configuration.
    </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configuration-programmatic"></a>3.1.&nbsp;Programmatic configuration</h2></div></div><div></div></div><p>
            An instance of <tt class="literal">net.esper.client.Configuration</tt> represents all configuration parameters. The <tt class="literal">Configuration</tt> is used to build an (immutable) <tt class="literal">EPServiceProvider</tt>, which provides the administrative and runtime interfaces for an Esper engine instance. 
        </p><p>
            You may obtain a <tt class="literal">Configuration</tt> instance by instantiating it directly and adding or setting values on it. The <tt class="literal">Configuration</tt> instance is then passed to <tt class="literal">EPServiceProviderManager</tt> to obtain a configured Esper engine.
        </p><pre class="programlisting">Configuration configuration = new Configuration();
configuration.addEventTypeAlias("PriceLimit", PriceLimit.class.getName());
configuration.addEventTypeAlias("StockTick", StockTick.class.getName());

EPServiceProvider epService = EPServiceProviderManager.getProvider("MyEngine", configuration);
</pre><p>
			Note that <tt class="literal">Configuration</tt> is meant only as an initialization-time object. The Esper engine represented by an <tt class="literal">EPServiceProvider</tt> is immutable and does not retain any association back to the <tt class="literal">Configuration</tt>.
        </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configuration-via-xml"></a>3.2.&nbsp;Configuration via XML file</h2></div></div><div></div></div><p>
			An alternative approach to configuration is to specify a configuration in an XML file. 
        </p><p>
			The default name for the XML configuration file is <tt class="literal">esper.cfg.xml</tt>. Esper reads this file from the root of the <tt class="literal">CLASSPATH</tt> as an application resource via the <tt class="literal">configure</tt> method.
        </p><pre class="programlisting">Configuration configuration = new Configuration();		
configuration.configure();
</pre><p>
			The <tt class="literal">Configuration</tt> class can read the XML configuration file from other sources as well. The <tt class="literal">configure</tt> method accepts <tt class="literal">URL, File and String</tt> filename parameters.
        </p><pre class="programlisting">Configuration configuration = new Configuration();		
configuration.configure("myengine.esper.cfg.xml");
</pre></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configuration-xml"></a>3.3.&nbsp;XML Configuration file</h2></div></div><div></div></div><p>
			Here is an example configuration file. The schema for the configuration file can be found in the <tt class="literal">etc</tt> folder and is named <tt class="literal">esper-configuration-1-0</tt>.		</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;esper-configuration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
           xsi:noNamespaceSchemaLocation="esper-configuration-1-0.xsd"&gt;
	&lt;event-type alias="StockTick" class="net.esper.example.stockticker.event.StockTick"/&gt;
	&lt;event-type alias="PriceLimit" class="net.esper.example.stockticker.event.PriceLimit"/&gt;
&lt;/esper-configuration&gt;		
</pre></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configuration-items"></a>3.4.&nbsp;Configuration items</h2></div></div><div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="config-event-name"></a>3.4.1.&nbsp;Event type alias to Java class mapping</h3></div></div><div></div></div><p>
				This configuration item can be set to allow event pattern statements and EQL statements to use an event type alias rather then the fully qualified Java class name. Interfaces and abstract classes are also supported as event types.
			</p><pre class="programlisting">every StockTick(symbol='IBM')"
// via configuration equivalent to
every net.esper.example.stockticker.event.StockTick(symbol='IBM')</pre></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="architecture.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="api.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;2.&nbsp;Architecture&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;4.&nbsp;API Reference</td></tr></table></div></body></html>